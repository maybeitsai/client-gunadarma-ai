@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
  --theme-transition-duration: 320ms;
  --radius: 0.75rem;

  /* Brand palette */
  --gunadarma-primary: 104 67 154;
  --gunadarma-primary-dark: 74 46 107;
  --gunadarma-primary-light: 232 224 240;
  --gunadarma-primary-hover: 123 83 179;
  --user-bubble: 104 67 154;
  --text-on-primary: 255 255 255;
  --text-on-accent: 255 255 255;

  /* Typography scale */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-display-sm: 2rem;
  --font-size-display-lg: 2.75rem;

  /* Spacing scale */
  --space-0: 0rem;
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-7: 2rem;
  --space-8: 2.5rem;
  --space-9: 3rem;
  --space-10: 4rem;

  /* Elevation */
  --elevation-0: none;
  --elevation-1: 0 1px 2px rgba(15, 23, 42, 0.08), 0 1px 1px rgba(15, 23, 42, 0.04);
  --elevation-2: 0 2px 6px rgba(15, 23, 42, 0.12), 0 1px 3px rgba(15, 23, 42, 0.08);
  --elevation-3: 0 10px 24px rgba(15, 23, 42, 0.18), 0 6px 10px rgba(15, 23, 42, 0.08);
}

:root,
:root[data-theme='light'] {
  --background: 255 255 255;
  --surface: 249 247 252;
  --surface-hover: 241 236 248;
  --card: 255 255 255;
  --border: 228 225 235;
  --input-bg: 242 242 242;
  --button-disabled: 173 154 198;
  --bubble-bg: 242 242 242;
  --accent: 104 67 154;
  --accent-hover: 123 83 179;
  --focus-ring: 189 166 228;
  --text-primary: 33 24 51;
  --text-secondary: 74 74 74;
  --text-muted: 122 122 122;
  --surface-foreground: 33 24 51;
  --foreground: 33 24 51;
  --error: 220 38 38;
  --success: 22 163 74;
  --color-mode: light;
}

:root[data-theme='dark'] {
  color-scheme: dark;
  --gunadarma-primary: 147 112 219;
  --gunadarma-primary-dark: 123 83 179;
  --gunadarma-primary-light: 196 181 253;
  --gunadarma-primary-hover: 167 139 250;
  --background: 17 24 39;
  --surface: 31 41 55;
  --surface-hover: 55 65 81;
  --card: 31 41 55;
  --border: 75 85 99;
  --input-bg: 31 41 55;
  --button-disabled: 107 114 128;
  --bubble-bg: 55 65 81;
  --accent: 147 112 219;
  --accent-hover: 167 139 250;
  --focus-ring: 196 181 253;
  --text-primary: 243 244 246;
  --text-secondary: 209 213 219;
  --text-muted: 156 163 175;
  --surface-foreground: 243 244 246;
  --foreground: 243 244 246;
  --error: 239 68 68;
  --success: 52 211 153;
  --color-mode: dark;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    color-scheme: dark;
    --gunadarma-primary: 147 112 219;
    --gunadarma-primary-dark: 123 83 179;
    --gunadarma-primary-light: 196 181 253;
    --gunadarma-primary-hover: 167 139 250;
    --background: 17 24 39;
    --surface: 31 41 55;
    --surface-hover: 55 65 81;
    --card: 31 41 55;
    --border: 75 85 99;
    --input-bg: 31 41 55;
    --button-disabled: 107 114 128;
    --bubble-bg: 55 65 81;
    --accent: 147 112 219;
    --accent-hover: 167 139 250;
    --focus-ring: 196 181 253;
    --text-primary: 243 244 246;
    --text-secondary: 209 213 219;
    --text-muted: 156 163 175;
    --surface-foreground: 243 244 246;
    --foreground: 243 244 246;
    --error: 239 68 68;
    --success: 52 211 153;
    --color-mode: dark;
  }
}

@layer base {
  * {
    @apply border-border transition-colors ease-in-out;
    transition-duration: var(--theme-transition-duration);
  }

  html,
  body,
  #root {
    height: 100%;
    overflow: hidden;
  }

  body {
    background-color: rgb(var(--background));
    color: rgb(var(--text-primary));
    font-family: theme('fontFamily.sans');
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
  }

  h1 {
    @apply text-display-lg font-semibold tracking-tight text-text-primary;
  }

  h2 {
    @apply text-display-sm font-semibold tracking-tight text-text-primary;
  }

  h3 {
    @apply text-2xl font-semibold text-text-primary;
  }

  p {
    @apply text-base text-text-secondary;
  }

  ::selection {
    background-color: rgb(var(--gunadarma-primary) / 0.15);
    color: rgb(var(--text-primary));
  }
}

@layer components {
  .app-shell {
    @apply mx-auto w-full max-w-5xl px-4 py-12 sm:px-6 lg:px-8;
  }

  .surface-panel {
    @apply rounded-2xl border border-border bg-surface p-6 shadow-elevation-1 transition-shadow;
  }

  .surface-panel:hover {
    box-shadow: var(--elevation-2);
  }

  /* Custom scrollbar styles */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgb(var(--border)) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgb(var(--border));
    border-radius: 3px;
  }

  .scrollbar-thin:hover::-webkit-scrollbar-thumb {
    background-color: rgb(var(--surface-hover));
  }
}

@keyframes typing-pulse {
  0%,
  80%,
  100% {
    opacity: 0.3;
    transform: translateY(0);
  }

  40% {
    opacity: 1;
    transform: translateY(-2px);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-in-from-bottom {
  from {
    transform: translateY(1rem);
  }
  to {
    transform: translateY(0);
  }
}

@layer components {
  .typing-dot {
    @apply h-2 w-2 rounded-full bg-primary shadow-elevation-0;
    animation: typing-pulse 1s infinite ease-in-out;
  }

  .typing-delay-150 {
    animation-delay: 150ms;
  }

  .typing-delay-300 {
    animation-delay: 300ms;
  }

  .animate-in {
    animation-fill-mode: both;
  }

  .fade-in {
    animation-name: fade-in;
  }

  .slide-in-from-bottom-4 {
    animation-name: slide-in-from-bottom;
  }

  .duration-300 {
    animation-duration: 300ms;
  }
}
