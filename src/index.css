@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
  --theme-transition-duration: 320ms;
  --radius: 0.75rem;

  /* Brand palette */
  --gunadarma-primary: 104 67 154;
  --gunadarma-primary-dark: 74 46 107;
  --gunadarma-primary-light: 232 224 240;
  --gunadarma-primary-hover: 123 83 179;
  --text-on-primary: 255 255 255;
  --text-on-accent: 255 255 255;

  /* Typography scale */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-display-sm: 2rem;
  --font-size-display-lg: 2.75rem;

  /* Spacing scale */
  --space-0: 0rem;
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-7: 2rem;
  --space-8: 2.5rem;
  --space-9: 3rem;
  --space-10: 4rem;

  /* Elevation */
  --elevation-0: none;
  --elevation-1: 0 1px 2px rgba(15, 23, 42, 0.08), 0 1px 1px rgba(15, 23, 42, 0.04);
  --elevation-2: 0 2px 6px rgba(15, 23, 42, 0.12), 0 1px 3px rgba(15, 23, 42, 0.08);
  --elevation-3: 0 10px 24px rgba(15, 23, 42, 0.18), 0 6px 10px rgba(15, 23, 42, 0.08);
}

:root,
:root[data-theme='light'] {
  --background: 255 255 255;
  --surface: 249 247 252;
  --surface-hover: 241 236 248;
  --card: 255 255 255;
  --border: 228 225 235;
  --input-bg: 242 242 242;
  --button-disabled: 173 154 198;
  --bubble-bg: 242 242 242;
  --accent: 104 67 154;
  --accent-hover: 123 83 179;
  --focus-ring: 189 166 228;
  --text-primary: 33 24 51;
  --text-secondary: 74 74 74;
  --text-muted: 122 122 122;
  --surface-foreground: 33 24 51;
  --foreground: 33 24 51;
  --error: 220 38 38;
  --success: 22 163 74;
  --color-mode: light;
}

:root[data-theme='dark'] {
  color-scheme: dark;
  --background: 33 33 33;
  --surface: 38 32 41;
  --surface-hover: 47 38 53;
  --card: 43 34 54;
  --border: 60 47 74;
  --input-bg: 46 46 46;
  --button-disabled: 75 57 100;
  --bubble-bg: 66 66 66;
  --accent: 232 224 240;
  --accent-hover: 188 166 219;
  --focus-ring: 164 132 208;
  --text-primary: 245 243 250;
  --text-secondary: 210 205 224;
  --text-muted: 160 145 182;
  --surface-foreground: 245 243 250;
  --foreground: 245 243 250;
  --error: 248 113 113;
  --success: 74 222 128;
  --color-mode: dark;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    color-scheme: dark;
    --background: 33 33 33;
    --surface: 38 32 41;
    --surface-hover: 47 38 53;
    --card: 43 34 54;
    --border: 60 47 74;
    --input-bg: 46 46 46;
    --button-disabled: 75 57 100;
    --bubble-bg: 66 66 66;
    --accent: 232 224 240;
    --accent-hover: 188 166 219;
    --focus-ring: 164 132 208;
    --text-primary: 245 243 250;
    --text-secondary: 210 205 224;
    --text-muted: 160 145 182;
    --surface-foreground: 245 243 250;
    --foreground: 245 243 250;
    --error: 248 113 113;
    --success: 74 222 128;
    --color-mode: dark;
  }
}

@layer base {
  * {
    @apply border-border transition-colors ease-in-out;
    transition-duration: var(--theme-transition-duration);
  }

  body {
    min-height: 100vh;
    background-color: rgb(var(--background));
    color: rgb(var(--text-primary));
    font-family: theme('fontFamily.sans');
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
  }

  h1 {
    @apply text-display-lg text-text-primary font-semibold tracking-tight;
  }

  h2 {
    @apply text-display-sm text-text-primary font-semibold tracking-tight;
  }

  h3 {
    @apply text-text-primary text-2xl font-semibold;
  }

  p {
    @apply text-text-secondary text-base;
  }

  ::selection {
    background-color: rgb(var(--gunadarma-primary) / 0.15);
    color: rgb(var(--text-primary));
  }
}

@layer components {
  .app-shell {
    @apply mx-auto w-full max-w-5xl px-4 py-12 sm:px-6 lg:px-8;
  }

  .surface-panel {
    @apply bg-surface shadow-elevation-1 rounded-2xl border border-border p-6 transition-shadow;
  }

  .surface-panel:hover {
    box-shadow: var(--elevation-2);
  }
}

@keyframes typing-pulse {
  0%,
  80%,
  100% {
    opacity: 0.3;
    transform: translateY(0);
  }

  40% {
    opacity: 1;
    transform: translateY(-2px);
  }
}

@layer components {
  .typing-dot {
    @apply shadow-elevation-0 h-2 w-2 rounded-full bg-primary;
    animation: typing-pulse 1s infinite ease-in-out;
  }

  .typing-delay-150 {
    animation-delay: 150ms;
  }

  .typing-delay-300 {
    animation-delay: 300ms;
  }
}
